<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>제이쿼리 문서객체 조작 - scroll layout</title>
    <link rel="stylesheet" href="./css/main.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

    <script>

        $(function(){

            // 1. 내비게이션 메뉴 클릭시 해당하는 인덱스 값 구하기

            let menu = $('header .gnb > ul > li');

            menu.click(function(e){

                e.preventDefault();

                let n = $(this).index();
                console.log(n);

                $('html, body').stop().animate({scrollTop: $('section').eq(n).offset().top - 60 }, 500);
            });


            // 화면스크롤값 구하기

            $(window).scroll(function(){

                let sPos = $(this).scrollTop();
                // console.log(sPos);


                //  만약에 아래 해당하는 조건범위에 맞는 a요소에 서식 적용하기

                // if(sPos >= 300 && sPos < 900){
                //     $('.gnb li:nth-child(2) a').addClass('t_act');
                // }else if(sPos >= 1100 && sPos < 1800){
                //     $('.gnb li:nth-child(3) a').addClass('t_act');
                // }else if(sPos >= 2000 && sPos < 2700){
                //     $('.gnb li:nth-child(4) a').addClass('t_act');
                // }else if(sPos >= 2900 && sPos < 3600){
                //     $('.gnb li:nth-child(5) a').addClass('t_act');
                // }else if(sPos >= 3800 && sPos < 4500){
                //     $('.gnb li:nth-child(6) a').addClass('t_act');
                // }else if(sPos >= 4700 && sPos < 5431){
                //     $('.gnb li:nth-child(7) a').addClass('t_act');
                // }else if(sPos == 0){
                //     $('.gnb li:nth-child(1) a').addClass('t_act');
                // }else{
                //     $('.gnb li a').removeClass('t_act');
                // }


                // offset메서드로 각각 해당하는 박스의 위치값에 따른 서식 적용하기

                $('main section').each(function(i){
                    let top = $(this).offset().top - 800;
                    // 만약에 sPos의 값이 top보다 크면
                    if(sPos >= top){ 
                        //  기존 서식을 제거
                        $('.gnb li a').removeClass('t_act');
                        // 해당 메뉴에 서식 적용
                        $('.gnb li').eq(i).find('a').addClass('t_act');
                        console.log(top);
                    }
                })



            });
            

        });

    </script>
</head>
<body>
    
    <!-- header -->
    <header>
        <h1>
            <a href="index.html" title="메인페이지로 바로가기">상단로고</a>
        </h1>

        <nav class="gnb">
            <ul>
                <li>
                    <a href="#" title="home"  class="t_act">home</a>
                </li>
                <li>
                    <a href="#" title="features">features</a>
                </li>
                <li>
                    <a href="#" title="overview">overview</a>
                </li>
                <li>
                    <a href="#" title="pricing">pricing</a>
                </li>
                <li>
                    <a href="#" title="team">team</a>
                </li>
                <li>
                    <a href="#" title="blog">blog</a>
                </li>
                <li>
                    <a href="#" title="contact">contact</a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- main -->
    <main>
        <section class="section01">
            <h2>메인 비주얼 콘텐츠</h2>
        </section>
        
        <section class="section02">
            <h2>features</h2>
        </section>
        
        <section class="section03">
            <h2>overview</h2>
        </section>
        
        <section class="section04">
            <h2>pricing</h2>
        </section>
        
        <section class="section05">
            <h2>team</h2>
        </section>
        
        <section class="section06">
            <h2>blog</h2>
        </section>
        
        <section class="section07">
            <h2>contact</h2>
        </section>
        
    </main>

    <!-- footer -->
    <footer>
        <address>
            copyright&copy; 2023 000 allrights reserved.
        </address>
    </footer>

</body>
</html>